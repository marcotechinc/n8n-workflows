{
  "name": "RAGForge - Chat",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "5a7ac32d-a089-4bdf-b0d2-a2bcabf63ca0",
      "name": "When chat message received",
      "webhookId": "5284de2a-5044-4c6e-8dca-97733fd3eb98"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a project assistant. Use the provided context from the project_information_retriever vector store to inform your response. If relevant context is missing or incomplete, you may rely on your own knowledge.\n\nKeep answers short and easy to scan. If the answer is genuinely unknown, reply: \"Not sure based on the current information.\"\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        224,
        0
      ],
      "id": "058dc0fb-3117-4691-bc62-ab06fd5d5413",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {
          "temperature": 0
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        80,
        208
      ],
      "id": "8a88e7d9-5d8f-4d82-a9be-395e4fb4e210",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "KRyyaKtkymLK3YpM",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        272,
        208
      ],
      "id": "99384f79-84f7-4b6d-b192-e889f0db082c",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "project_information_retriever",
        "toolDescription": "Retrieve information about projects from project documentation",
        "tableName": {
          "__rl": true,
          "value": "document_vectors",
          "mode": "list",
          "cachedResultName": "document_vectors"
        },
        "topK": 10,
        "useReranker": true,
        "options": {
          "queryName": "match_documents_flex"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.2,
      "position": [
        512,
        208
      ],
      "id": "29a1bc04-68de-4e03-8e9d-19f3de4019f3",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "LDhBmd2aeXNRoFRh",
          "name": "Supabase - PromptOS"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "stripNewLines": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        512,
        368
      ],
      "id": "aaadb543-4f14-4e69-a0fc-ac22d926daf9",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "KRyyaKtkymLK3YpM",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.rerankerCohere",
      "typeVersion": 1,
      "position": [
        672,
        368
      ],
      "id": "3f978b27-6f57-462d-afa7-bbacf53e2730",
      "name": "Reranker Cohere",
      "credentials": {
        "cohereApi": {
          "id": "t5C5629l3ApBhaVm",
          "name": "CohereApi account"
        }
      }
    },
    {
      "parameters": {
        "content": "Consider making use of metadata",
        "height": 80,
        "width": 160,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        672,
        80
      ],
      "typeVersion": 1,
      "id": "854cb8b2-d137-45e2-8823-92a702987afc",
      "name": "Sticky Note22"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Reranker Cohere": {
      "ai_reranker": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_reranker",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "0e531e10-2442-44e8-a2bd-100a50370251",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0e1664e1c576ef52797abfb36899a10b94b3f051cdf548d41e9d265459c6a618"
  },
  "id": "qcNeE3fCKXPR71bd",
  "tags": [
    {
      "updatedAt": "2025-06-13T00:44:28.800Z",
      "createdAt": "2025-06-13T00:44:28.800Z",
      "id": "HMfvMejmdgx6xPHF",
      "name": "PromptOS"
    }
  ]
}